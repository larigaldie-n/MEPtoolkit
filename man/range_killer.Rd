% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/range_killer.R
\name{range_killer}
\alias{range_killer}
\title{Range-based robustness check of descriptive statistics after removing extremes}
\usage{
range_killer(m, s, n, min, max, output = FALSE)
}
\arguments{
\item{m}{Character scalar/vector. Point estimate of the sample mean.
Length must equal the number of cases.}

\item{s}{Character scalar/vector. Point estimate of the sample standard
deviation (SD). Length must equal the number of cases.}

\item{n}{An integer vector of sample sizes (one value per case). Length must
equal the number of cases. Each element must be \eqn{\ge 4} (see Details).}

\item{min}{Character scalar/vector. Point estimate of the sample minimum value.
Length must equal the number of cases.}

\item{max}{Character scalar/vector. Point estimate of the sample maximum value.
Length must equal the number of cases.}
}
\value{
A named list with six numeric vectors:
\describe{
\item{res_m_min}{minimum possible mean after removing the minimum and maximum values once.}
\item{res_m_max}{maximum possible mean after removing the minimum and maximum values once.}
\item{res_s_min}{minimum possible SD after removing the minimum and maximum values once.}
\item{res_s_max}{maximum possible SD after removing the minimum and maximum values once.}
\item{res_m_RIVETS}{mean recalculated from the exact \code{original} reported values.}
\item{res_s_RIVETS}{SD recalculated from the exact \code{original} reported values.}
}
}
\description{
Compute bounds on the sample mean and standard deviation that can arise when
the observed minimum and maximum values are removed from the sample. The
function explores combinations of plausible values for the descriptive
statistics (minimum / original / maximum) for the reported mean, standard
deviation, minimum and maximum and returns the worst-case (min / max)
resulting mean and standard deviation for each input case. It also returns
the recalculated mean and standard deviation obtained when using the
\emph{original}/RIVETS reported values.
}
\details{
For each case, the function forms the Cartesian product
of the three candidate values (minimum, original, maximum) provided
for each of the four descriptors (mean, SD, min, max). For every combination
it recomputes the sample mean and SD that would result after removing the
reported minimum and maximum observations from an original sample of size n-2.
Computations use the following algebraic identities:

* New mean: \eqn{m' = (n m - (min + max)) / (n - 2)}.
* Sum of squares (original): \eqn{SS = (n-1) s^2 + n m^2}.
* New variance (unbiased): \eqn{var' = [SS' - (n-2) m'^2] / (n-3)}, where
\eqn{SS'} is \eqn{SS} less the squared removed values.

The function sets the recalculated SD to \code{-1} if the computed variance
is negative (this flags an impossible/inconsistent combination).
}
\section{Requirements and edge-cases}{

\itemize{
\item All corresponding components (except n) must be characters and of equal length.
\item Each \code{n[j]} must be at least 4. The formulas include divisions
by \code{(n-2)} and \code{(n-3)}; values < 4 will produce errors or
non-finite results.}
}

\keyword{descriptive}
\keyword{robust}
\keyword{sensitivity}
